
---
title: Installation
---

# Installation

This project includes the following components generated from OpenAPI specification:

- **Client SDK** – A PHP client for integrating with the streaming video service API.
- **Server Stub** – A PHP server stub based on the Laravel framework.

Both components were generated using **OpenAPI Generator** (`openapi-generator-cli.jar`) based on the OpenAPI specification file (`openapi.yaml`).

## Prerequisites

### PHP Requirements
- PHP 7.4 or newer for the client
- PHP 7.2.5 or newer for the server

### Additional Tools
- Composer (https://getcomposer.org/) for dependency management
- OpenAPI Generator (https://openapi-generator.tech) for code generation

---

## Installation Steps

### 1. Clone the Repository

Clone the repository and navigate to the project folder:

```bash
git clone https://github.com/knysh-se/learning-openapi-gen.git
cd learning-openapi-gen
```

### 2. Install OpenAPI Generator
Download OpenAPI Generator CLI:

```bash
wget https://repo1.maven.org/maven2/org/openapitools/openapi-generator-cli/7.9.0/openapi-generator-cli-7.9.0.jar -O openapi-generator-cli.jar
```

Alternatively, you can use:

```bash
java -jar openapi-generator-cli.jar help
```

---

## Client Installation

### 1. Install Dependencies
Navigate to the `php-client` directory and install dependencies using Composer:

```bash
cd php-client
composer install
```

### 2. Include the Client SDK in Your Code

You can manually include the generated client like this:

```php
<?php
require_once(__DIR__ . '/vendor/autoload.php');

$config = OpenAPI\Client\Configuration::getDefaultConfiguration()->setApiKey('X-API-KEY', 'YOUR_API_KEY');

$apiInstance = new OpenAPI\Client\Api\DefaultApi(
    new GuzzleHttp\Client(),
    $config
);

try {
    $result = $apiInstance->moviesGet();
    print_r($result);
} catch (Exception $e) {
    echo 'Exception when calling DefaultApi->moviesGet: ', $e->getMessage(), PHP_EOL;
}
```

### 3. Test the Client SDK
To run the tests:

```bash
vendor/bin/phpunit
```

---

## Server Installation

### 1. Install Dependencies
Navigate to the `php-server` directory and install dependencies:

```bash
cd php-server
composer install
```

### 2. Setup Environment
Create the `.env` file and generate the application key:

```bash
cp .env.example .env
php artisan key:generate
```

### 3. Start the Server
Run the Laravel server:

```bash
php artisan serve
```

The server will be available at:

```
http://localhost:8000/api/v1
```

---

## API Endpoints

All URIs are relative to **http://localhost:8000/api/v1**.

| Class | Method | HTTP request | Description |
|-------|--------|--------------|-------------|
| **DefaultApi** | `moviesGet` | `GET /movies` | Get a list of all movies |
| **DefaultApi** | `moviesMovieIdDelete` | `DELETE /movies/{movieId}` | Delete movie |
| **DefaultApi** | `moviesMovieIdGet` | `GET /movies/{movieId}` | Get movie by ID |
| **DefaultApi** | `moviesMovieIdPut` | `PUT /movies/{movieId}` | Update movie information |
| **DefaultApi** | `moviesPost` | `POST /movies` | Create a new movie |
| **DefaultApi** | `reviewsGet` | `GET /reviews` | Get list of reviews |
| **DefaultApi** | `reviewsPost` | `POST /reviews` | Create a new review |
| **DefaultApi** | `reviewsReviewIdDelete` | `DELETE /reviews/{reviewId}` | Delete review |
| **DefaultApi** | `reviewsReviewIdGet` | `GET /reviews/{reviewId}` | Get review by ID |
| **DefaultApi** | `reviewsReviewIdPut` | `PUT /reviews/{reviewId}` | Update review |

---

## Authorization

### API Key Authentication
The API uses an API key for authorization.

- **Type:** API key  
- **Header Parameter:** `X-API-KEY`  
- **Location:** HTTP header  

Example:

```http
GET /movies HTTP/1.1
Host: localhost:8000
X-API-KEY: YOUR_API_KEY
```

---

## Tests

To run the tests, use:

```bash
cd php-client
composer install
vendor/bin/phpunit
```

---

## About this Project
This project was generated using the [OpenAPI Generator](https://openapi-generator.tech) with the following options:

- **API version:** 1.0.0  
- **Generator version:** 7.9.0  
- **Language:** PHP  
- **Framework:** Laravel (server), PHP SDK (client)  

---
